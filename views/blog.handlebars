<!-- Styling for the blog and comment cards -->
<style>
.card h4 {
  color: #8ca88d;
}
</style>

<!-- Blog Post Card -->
<div class="card text-bg-light my-2">

  <!-- Blog Post Header -->
  <div class="card-header d-flex justify-content-between align-items-center">

    <!-- Blog Title -->
    <h4>{{blog.title}}</h4>

    <!-- Blog Post Information -->
    <h4 class="mt-3 ms-3">Posted by: {{blog.user.name}} <br> Created: {{format_date blog.date_created}}</h4>
  </div>

  <!-- Blog Post Body -->
  <div class="card-body border-top-0 border-1 rounded-bottom">

    <!-- Blog Content -->
    <h5>{{blog.content}}</h5>
  </div>
</div>

<!-- Loop through each comment -->
{{#each comments}}
<div class="card my-2">

  <!-- Comment Body -->
  <div class="card-body text-bg-light border-top-1 border-1 rounded-bottom rounded-top">

    <!-- Comment Content -->
    <h5>{{content}}</h5>

    <!-- Comment Author and Date -->
    <p>-{{user.name}} on {{format_date date_created}}</p>
  </div>
</div>
{{/each}}

<!-- Comment Submission Form, visible only if logged in -->
{{#if logged_in}}
<div class="card my-2">

    <!-- Form Header -->
    <div class="card-header navbar-dark bg-dark d-flex justify-content-between align-items-center">
    </div>

    <!-- Form Body -->
    <div class="card-body text-bg-light w-100 mx-auto pt-2 px-4 border border-dark border-top-0 border-1 rounded-bottom">

      <!-- Comment Form -->
      <form id="comment" data-blogid="{{blog.id}}">
        <div class="mb-3 text-dark">
          <label for="content" class="form-label">Comment</label>
          <textarea type="text" class="form-control" name="content"></textarea>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-light w-100">Submit</button>
      </form>
    </div>
</div>

<!-- Link to the Comment JavaScript file -->
<script src="/public/js/comment.js"></script>
{{/if}}